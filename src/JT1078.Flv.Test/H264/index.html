<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="flv.min.js"></script>
</head>
<body>
    <video muted="muted" webkit-playsinline="true" autoplay="true" id="player"></video>
    <script>
        //ref https://github.com/bilibili/flv.js/issues/427
        //ref https://github.com/bilibili/flv.js/issues/498
        if (flvjs.isSupported()) {
            var player = document.getElementById('player');
            var flvPlayer = flvjs.createPlayer({
                type: 'flv',
                lazyLoad: false,
                lazyLoadMaxDuration: 0,
                lazyLoadRecoverDuration: 0,
                deferLoadAfterSourceOpen: false,
                fixAudioTimestampGap: false,
                //url: "ws://localhost:1818/jt1078live?token=" + Math.floor((Math.random() * 1000000) + 1)
                //isLive: true,
                url: "JT1078_3.flv"
            });
            var width, height, flag;
            flvPlayer.attachMediaElement(player);
            flvPlayer.on(flvjs.Events.SCRIPTDATA_ARRIVED, (e) => {
                console.log(e);
            });
            flvPlayer.load();
            flvPlayer.play();
        }
    </script>
</body>
</html>